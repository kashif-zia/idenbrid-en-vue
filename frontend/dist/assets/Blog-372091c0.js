import{P as u}from"./PageHeader-b4f65737.js";import{_ as f,f as a,g as d,j as i,k as l,m as n,l as t,F as b,t as w,q as g,s as h,v as _}from"./index-dcf86d88.js";const k={components:{PageHeader:u},name:"BlogPage",data(){return{most_liked:[],blogs:[],search_word:"",categories:[]}},watch:{search_word(e,s){e==""||e==null?this.getBlogs():this.handleSearch()}},methods:{async likeBlog(e){try{const{data:s}=await a.post("api/like-blog/"+e);s.success==!0?this.getBlogs():Swal.fire({icon:"error",title:"UnAuthenticated",text:s.message})}catch({response:s}){console.error(s.data.message)}},async unLikeBlog(e){try{const{data:s}=await a.post("api/like-blog/"+e);s.success==!0?this.getBlogs():Swal.fire({icon:"error",title:"UnAuthenticated",text:s.message})}catch({response:s}){console.error(s.data.message)}},handleSearch(){a.get("api/blog-search/"+this.search_word).then(({data:e})=>{this.blogs=e})},categorySearch(e){e=="all"?this.getBlogs():a.get("api/blog-search-category/"+e).then(({data:s})=>{this.blogs=s.map(c=>c.blog)})},getBlogs(){a.get("api/blogs").then(e=>{this.blogs=e.data.blogs}).catch(e=>{})}},mounted(){this.getBlogs()}},y={class:"news-section"},B={class:"auto-container"},x={key:0,class:"row clearfix"},v={class:"inner-box"},S={class:"image-box"},P=["src"],U={class:"lower-box"},H={class:"post-meta"},I={class:"clearfix"},L=t("span",{class:"far fa-clock"},null,-1),N={key:1};function V(e,s,c,$,m,A){const p=d("PageHeader"),r=d("router-link");return i(),l("div",null,[n(p,{title:"BLOG"}),t("section",y,[t("div",B,[this.blogs.length>0?(i(),l("div",x,[(i(!0),l(b,null,w(m.blogs,o=>(i(),l("div",{key:o.id,class:"news-block col-lg-4 col-md-6 col-sm-12 wow fadeInUp animated","data-wow-delay":"0ms","data-wow-duration":"1500ms",style:{visibility:"visible","animation-duration":"1500ms","animation-delay":"0ms","animation-name":"fadeInUp"}},[t("div",v,[t("div",S,[n(r,{to:"/blog-detail/"+o.id},{default:g(()=>[t("img",{src:"https://admin.idenbrid.com/storage/blog_images/"+o.image,alt:""},null,8,P)]),_:2},1032,["to"])]),t("div",U,[t("div",H,[t("ul",I,[t("li",null,[L,h(_(o.date),1)])])]),t("h5",null,[n(r,{to:"/blog-detail/"+o.id},{default:g(()=>[h(_(o.title),1)]),_:2},1032,["to"])])])])]))),128))])):(i(),l("h4",N,"There are no articles postedã€‚"))])])])}const j=f(k,[["render",V]]);export{j as default};
